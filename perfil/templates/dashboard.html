{% extends 'base.html' %}
{% load static %}
{% block 'head' %}

    <link href="{% static 'perfil/css/home.css' %}" rel="stylesheet">
    <link href="{% static 'perfil/css/gerenciar.css' %}" rel="stylesheet">
    <link href="{% static 'contas/css/contas.css' %}" rel="stylesheet">

{% endblock %}

{% block 'body' %}

    <div class="container">
        <br>
        {% if status == '1' %}
        {% endif %}
        <br>
        <div class="row">
            
            <div class="col-md">
                <span class="fonte-destaque">Gastos por categoria</span>
                <div>
                    <canvas id="myChart" style="min-height: 450px;"></canvas>
                </div>

            </div>

        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        window.onload = function() {
            const ctx = document.getElementById('myChart').getContext('2d');

            const labels = {{ labels|default:"[]"|safe }};
            const values = {{ values|default:"[]"|safe }};

            console.log("Labels:", labels);
            console.log("Values:", values);

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Gastos por categoria',
                        data: values,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                }
            });
        };    
    </script>


{% endblock %}